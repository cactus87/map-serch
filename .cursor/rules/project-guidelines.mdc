---
description: LMP-Link MAUI MVP 핵심 가이드라인
globs: 
alwaysApply: true
---

## 프로젝트 개요
- **.NET MAUI 10.0** MVP: 지도 반경 검색으로 매칭 시간 단축 (엑셀 30분 → 3분)
- **기술**: MVVM (CommunityToolkit.Mvvm), Naver Maps (WebView), Supabase
- **목표**: 앱 시작 <2초, 지도 로딩 <3초, 반경 필터 <500ms

## ⭐ 핵심 패턴 (필수!)

### 1. XAML CommandParameter 타입
```xml
<!-- ❌ 잘못됨 -->
<Button CommandParameter="1.0" />

<!-- ✅ 올바름 -->
<Button.CommandParameter><x:Double>1.0</x:Double></Button.CommandParameter>
```

### 2. MAUI DI 패턴
```csharp
public MainPage()  // 기본 생성자 필수
{
    InitializeComponent();
    var services = IPlatformApplication.Current?.Services;
    _viewModel = services.GetRequiredService<MapViewModel>();
}
```

### 3. 디버깅 로깅
```csharp
// Desktop/maui_debug.log에 저장
File.AppendAllText(LogPath, $"[{DateTime.Now:HH:mm:ss.fff}] {message}\n");
```

## 네이버 지도 API
- **스크립트**: `<script src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=a5r744p216"></script>`
- **Web 서비스 URL 등록 필수**: `file:///`, `http://localhost`, `http://localhost/`
- **인증 실패 시**: 네이버 클라우드 콘솔에서 Web Dynamic Map 활성화 & URL 등록 확인

## 작업 진척
- **메인 문서**: `진척_관리.md` (일일 로그)
- **참조**: `MAUI_통합_로드맵.md`, `디자인-코드_매핑.md`, `Supabase_스키마.md`
- **트러블슈팅**: `트러블슈팅_MainPage_DI_CommandParameter.md`

## 보안
- API 키는 User Secrets 사용 (하드코딩 금지)
- `.gitignore`에 `.env`, `*.env` 추가
