# ê°œë°œ ë¡œë“œë§µ (LMP-Link MVP â†’ v1.0) - .NET MAUI

**ëª©í‘œ:** í˜„ì¬ì˜ MVP(ê¸°ëŠ¥ ì¤‘ì‹¬, íˆ¬ë°•í•¨)ë¥¼ ì‹¤ì œ í˜„ì¥ì—ì„œ ë§¤ì¼ ì“¸ ìˆ˜ ìˆëŠ” ì •ì‹ ë²„ì „ v1.0ìœ¼ë¡œ ë°œì „ì‹œí‚µë‹ˆë‹¤.

**ê¸°ìˆ  ìŠ¤íƒ:** .NET MAUI 9.0 + C# 13 + CommunityToolkit.Mvvm  
**ì˜ˆìƒ ê¸°ê°„:** 4~6ì£¼ (1ì¸ ê°œë°œì, ì´ ë¡œë“œë§µì„ ìˆœì°¨ì ìœ¼ë¡œ ë”°ë¦„)  
**í”Œë«í¼:** Windows (MSIX) + Android (APK)

---

## ğŸ¯ ì „ì²´ ì „ëµ

1. **Phase 1 (1~2ì£¼):** UI ê³ ë„í™” + ë””ìì¸ ì‹œìŠ¤í…œ (MAUI XAML)
2. **Phase 2 (2~3ì£¼):** ì‹¤ì œ ë°ì´í„° ì—°ë™ + ì¸ì¦ (Supabase)
3. **Phase 3 (3~4ì£¼):** AI íŒŒì´í”„ë¼ì¸ + n8n ì›¹í›…
4. **Phase 4 (4~6ì£¼):** í…ŒìŠ¤íŠ¸ + ë°°í¬ ì„¤ì • (MSIX/APK)

---

## â±ï¸ Phase 1: UI ê³ ë„í™” & ë””ìì¸ ì‹œìŠ¤í…œ (2ì£¼)

**ëª©í‘œ:** ì•±ì´ í”„ë¡œí† íƒ€ì…ì´ ì•„ë‹Œ ì „ë¬¸ê°€ìš© ë„êµ¬ì²˜ëŸ¼ ë³´ì´ê³  ë™ì‘í•˜ê²Œ ë§Œë“¤ê¸°.

### 1-1. MAUI Resources & ìƒ‰ìƒ ì‹œìŠ¤í…œ ì„¤ì •

**ìˆ˜ì •/ìƒì„±í•  íŒŒì¼:**
- `Resources/Styles/Colors.xaml`
- `Resources/Styles/Styles.xaml`
- `App.xaml` (ResourceDictionary ì„¤ì •)

**ì‘ì—…:**
- [ ] Color íŒ”ë ˆíŠ¸ ì •ì˜ (ë‹¤í¬ í…Œë§ˆ):
  - Primary: ì²­ë¡ (#2DD4BF)
  - Secondary: ì£¼í™© (#FF9800)
  - Surface: ì–´ë‘ìš´ íšŒìƒ‰ (#1F2937)
  - Background: ì§„í•œ ë‚¨ìƒ‰ (#111827)
- [ ] Style TargetType="Button", "Label", "Frame" ì •ì˜
- [ ] íƒ€ì´í¬ê·¸ë˜í”¼ ìŠ¤ì¼€ì¼ ì„¤ì • (ì œëª©, ë³¸ë¬¸, ìº¡ì…˜)

**ì™„ë£Œ ì¡°ê±´:** ì•± ì‹¤í–‰ ì‹œ ì™„ì „í•œ ë‹¤í¬ í…Œë§ˆê°€ ì ìš©ë˜ê³ , ëª¨ë“  í…ìŠ¤íŠ¸ê°€ ì½ê¸° ì‰¬ìš°ë©°, ë²„íŠ¼ì´ ì‹œê°ì ìœ¼ë¡œ êµ¬ë¶„ë¨.

**ì°¸ê³ :** `ë””ìì¸_ì‹œìŠ¤í…œ.md` > Section 2 "ìƒ‰ìƒ íŒ”ë ˆíŠ¸"

---

### 1-2. MVVM êµ¬ì¡° í™•ë¦½ & ViewModel ë¶„ë¦¬

**í˜„ì¬ ìƒíƒœ:** BaseViewModel, MapViewModel ê¸°ë³¸ êµ¬í˜„ ì™„ë£Œ  
**ëª©í‘œ ìƒíƒœ:** ëª¨ë“ˆí™”ë˜ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ViewModelë¡œ í™•ì¥

**ìƒì„±í•  ViewModels:**

1. **`ViewModels/MapViewModel.cs`** (âœ… ì´ë¯¸ ì™„ë£Œ)
   - ì§€ë„ ë§ˆì»¤ ê´€ë¦¬, ë°˜ê²½ í•„í„°ë§
   - Commands: LoadData, SelectUser, ChangeRadius, ShowAll

2. **`ViewModels/MatchingViewModel.cs`** (ì‹ ê·œ ìƒì„± í•„ìš”)
   - ë§¤ì¹­ ë¡œì§, í›„ë³´ ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬
   - Commands: SelectAssistant, CompareMatch, ConfirmMatch

3. **`ViewModels/UserListViewModel.cs`** (ì‹ ê·œ ìƒì„± í•„ìš”)
   - ì´ìš©ì ëª©ë¡ í•„í„°ë§, ê²€ìƒ‰
   - Commands: SearchUsers, FilterByStatus

4. **`ViewModels/SettingsViewModel.cs`** (Phase 2)
   - ì•± ì„¤ì •, ì‚¬ìš©ì í”„ë¡œí•„
   - Commands: SaveSettings, Logout

**ì™„ë£Œ ì¡°ê±´:** ëª¨ë“  ViewModelì´ BaseViewModelì„ ìƒì†í•˜ê³ , DI Containerì— ë“±ë¡ë˜ë©°, Commandsê°€ ì •ìƒ ë™ì‘í•¨.

---

### 1-3. MainPage XAML ë ˆì´ì•„ì›ƒ ê°œì„ 

**íŒŒì¼:** `Views/Pages/MainPage.xaml`

**í˜„ì¬:** Grid 2ì—´ (3*,7*), ê¸°ë³¸ CollectionView  
**ëª©í‘œ:**

```xml
<ContentPage>
    <Grid ColumnDefinitions="3*,7*">
        <!-- ì¢Œì¸¡ 30%: ì´ìš©ì ëª©ë¡ + ê²€ìƒ‰ + í•„í„° -->
        <Grid Grid.Column="0" RowDefinitions="Auto,Auto,*">
            <!-- ê²€ìƒ‰ ë°” -->
            <SearchBar Grid.Row="0" Placeholder="ì´ìš©ì ê²€ìƒ‰..." />
            
            <!-- ë°˜ê²½ í•„í„° ë²„íŠ¼ -->
            <Grid Grid.Row="1" ColumnDefinitions="*,*,*,*">
                <Button Text="1km" Command="{Binding ChangeRadiusCommand}" />
                <Button Text="3km" />
                <Button Text="5km" />
                <Button Text="ì „ì²´" />
            </Grid>
            
            <!-- ì´ìš©ì CollectionView -->
            <CollectionView Grid.Row="2" ItemsSource="{Binding Users}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame> <!-- ì¹´ë“œ ìŠ¤íƒ€ì¼ --> </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </Grid>
        
        <!-- ìš°ì¸¡ 70%: ë„¤ì´ë²„ ì§€ë„ WebView -->
        <Grid Grid.Column="1">
            <WebView x:Name="MapWebView" Source="{Binding MapHtmlSource}" />
        </Grid>
    </Grid>
</ContentPage>
```

**ì‘ì—…:**
- [ ] SearchBar ì¶”ê°€ (ì´ìš©ì ê²€ìƒ‰)
- [ ] CollectionView ItemTemplate ê°œì„  (ì¹´ë“œ ìŠ¤íƒ€ì¼, ê·¸ë¦¼ì)
- [ ] SelectedUser ì‹œê°ì  ê°•ì¡° (BorderColor, BackgroundColor)
- [ ] FilterStatusText Frame ë””ìì¸ ê°œì„ 

**ì™„ë£Œ ì¡°ê±´:** MainPageê°€ ë””ìì¸_ì‹œìŠ¤í…œ.mdì˜ ë ˆì´ì•„ì›ƒ ëª…ì„¸ì™€ ì¼ì¹˜í•˜ê³ , ëª¨ë“  ìš”ì†Œê°€ ë°”ì¸ë”©ë¨.

---

### 1-4. WebView ìµœì í™” & ë„¤ì´ë²„ ì§€ë„ ì•ˆì •í™”

**íŒŒì¼:**
- `Resources/Raw/map.html`
- `Views/Pages/MainPage.xaml.cs`
- `Services/Interfaces/IMapService.cs` (ì‹ ê·œ)
- `Services/Implementation/MapService.cs` (ì‹ ê·œ)

**ì‘ì—…:**
- [ ] `IMapService` ì¸í„°í˜ì´ìŠ¤ ìƒì„±:
  - `InitMapAsync(double lat, double lng, int zoom)`
  - `AddMarkerAsync(Person person)`
  - `DrawCircleAsync(double lat, double lng, double radiusKm)`
  - `ClearCircleAsync()`
- [ ] `MapService` êµ¬í˜„ (WebViewì™€ JS Interop)
- [ ] MapViewModelì—ì„œ IMapService ì£¼ì… ë° ì‚¬ìš©
- [ ] WebView Navigated ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ (API ë¡œë“œ ëŒ€ê¸°)
- [ ] Custom URL Scheme í•¸ë“¤ëŸ¬ (`maui://markerclick`)

**ì™„ë£Œ ì¡°ê±´:** ì§€ë„ê°€ 3ì´ˆ ì´ë‚´ ë¡œë“œë˜ê³ , ë§ˆì»¤ í´ë¦­ ì‹œ C# ì½œë°±ì´ ì •ìƒ ë™ì‘í•¨.

**ì°¸ê³ :** `Blazor_to_MAUI_ì°¸ê³ ìë£Œ.md` > Section 4 "API ë¡œë“œ ëŒ€ê¸°"

---

## â±ï¸ Phase 2: ì‹¤ì œ ë°ì´í„° ì—°ë™ & ì¸ì¦ (2~3ì£¼)

**ëª©í‘œ:** Mock ë°ì´í„°ë¥¼ Supabase ì‹¤ì œ ë°ì´í„°ë¡œ ì „í™˜í•˜ê³ , ì¸ì¦ ê¸°ëŠ¥ ì¶”ê°€.

### 2-1. Supabase í´ë¼ì´ì–¸íŠ¸ ì„¤ì •

**íŒŒì¼:**
- `Services/Interfaces/ISupabaseService.cs`
- `Services/Implementation/SupabaseService.cs`
- `MauiProgram.cs` (DI ë“±ë¡)

**ì‘ì—…:**
- [ ] Supabase NuGet íŒ¨í‚¤ì§€ ì„¤ì¹˜ (`supabase-csharp`)
- [ ] User Secretsì— Supabase URL + Anon Key ì €ì¥
- [ ] SupabaseService ì‹±ê¸€í†¤ ë“±ë¡
- [ ] GetUsersAsync(), GetAssistantsAsync() êµ¬í˜„ (Supabase ì¿¼ë¦¬)

**ì™„ë£Œ ì¡°ê±´:** ì•± ì‹œì‘ ì‹œ Supabaseì—ì„œ ì‹¤ì œ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ê³ , CollectionViewì— í‘œì‹œë¨.

---

### 2-2. Supabase Auth í†µí•©

**íŒŒì¼:**
- `Views/Pages/LoginPage.xaml` (ì‹ ê·œ)
- `ViewModels/LoginViewModel.cs` (ì‹ ê·œ)
- `Services/Interfaces/IAuthService.cs` (ì‹ ê·œ)
- `Services/Implementation/AuthService.cs` (ì‹ ê·œ)

**ì‘ì—…:**
- [ ] LoginPage XAML: ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ Entry, ë¡œê·¸ì¸ Button
- [ ] LoginViewModel: LoginCommand, ì—ëŸ¬ ë©”ì‹œì§€ ì²˜ë¦¬
- [ ] AuthService: SignInAsync(), SignOutAsync(), GetCurrentUserAsync()
- [ ] Shell Navigation: LoginPage â†’ MainPage (ì¸ì¦ ì„±ê³µ ì‹œ)
- [ ] SecureStorageì— ì„¸ì…˜ í† í° ì €ì¥

**ì™„ë£Œ ì¡°ê±´:** ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸ ì„±ê³µ í›„ MainPageë¡œ ì´ë™, í† í°ì´ SecureStorageì— ì €ì¥ë¨.

---

### 2-3. CRUD ê¸°ëŠ¥ êµ¬í˜„

**ì‘ì—…:**
- [ ] ì´ìš©ì ìƒì„± (CreateUserAsync)
- [ ] ì§€ì›ì‚¬ ìƒì„± (CreateAssistantAsync)
- [ ] ë§¤ì¹­ ì €ì¥ (SaveMatchAsync)
- [ ] ë§¤ì¹­ ì¡°íšŒ (GetMatchesAsync)

**ì™„ë£Œ ì¡°ê±´:** CRUD ì‘ì—…ì´ Supabaseì— ë°˜ì˜ë˜ê³ , UIê°€ ìë™ ê°±ì‹ ë¨.

---

## â±ï¸ Phase 3: AI íŒŒì´í”„ë¼ì¸ & n8n ì›¹í›… (1ì£¼)

**ëª©í‘œ:** Claude 3.5ë¥¼ í†µí•œ AI ì¶”ì²œ ê¸°ëŠ¥ ì¶”ê°€.

### 3-1. n8n ì›¹í›… ì—°ë™

**íŒŒì¼:**
- `Services/Interfaces/IAiRecommendationService.cs`
- `Services/Implementation/AiRecommendationService.cs`
- `Models/MatchScore.cs` (ì‹ ê·œ)

**ì‘ì—…:**
- [ ] n8n ì›¹í›… URL ì„¤ì • (User Secrets)
- [ ] GetRecommendationsAsync(Person user, List<Person> assistants) êµ¬í˜„
- [ ] HTTP POST ìš”ì²­ìœ¼ë¡œ ë°ì´í„° ì „ì†¡
- [ ] ì‘ë‹µ íŒŒì‹± (ë§¤ì¹­ ì ìˆ˜, ì¶”ì²œ ì´ìœ )

**ì™„ë£Œ ì¡°ê±´:** ì´ìš©ì ì„ íƒ ì‹œ AI ì¶”ì²œ ì ìˆ˜ê°€ 2ì´ˆ ì´ë‚´ ë°˜í™˜ë˜ê³ , UIì— í‘œì‹œë¨.

---

## â±ï¸ Phase 4: í…ŒìŠ¤íŠ¸ & ë°°í¬ (1~2ì£¼)

**ëª©í‘œ:** Windows MSIX, Android APK ë¹Œë“œ ë° ë°°í¬.

### 4-1. í”Œë«í¼ë³„ ë¹Œë“œ ì„¤ì •

**ì‘ì—…:**
- [ ] Windows MSIX ë¹Œë“œ:
  ```bash
  dotnet publish -f net9.0-windows10.0.19041.0 -c Release -p:RuntimeIdentifierOverride=win10-x64
  ```
- [ ] Android APK ë¹Œë“œ:
  ```bash
  dotnet publish -f net9.0-android -c Release
  ```
- [ ] ì„œëª… ì¸ì¦ì„œ ìƒì„± ë° ì„¤ì •

**ì™„ë£Œ ì¡°ê±´:** MSIX, APK íŒŒì¼ì´ ìƒì„±ë˜ê³ , í…ŒìŠ¤íŠ¸ ë””ë°”ì´ìŠ¤ì— ì„¤ì¹˜ë¨.

---

### 4-2. ì„±ëŠ¥ ìµœì í™”

**ì‘ì—…:**
- [ ] CollectionView ê°€ìƒí™” (VirtualizationMode="Enabled")
- [ ] WebView í•˜ë“œì›¨ì–´ ê°€ì† í™œì„±í™”
- [ ] ì´ë¯¸ì§€ ì••ì¶• ë° ìºì‹± (FFImageLoading.Maui)
- [ ] Startup ì‹œê°„ ì¸¡ì • (<2ì´ˆ ëª©í‘œ)

**ì™„ë£Œ ì¡°ê±´:** ì„±ëŠ¥ ì˜ˆì‚° ì¶©ì¡± (ì•± ì‹œì‘ <2ì´ˆ, ì§€ë„ ë¡œë“œ <3ì´ˆ, ë°˜ê²½ í•„í„° <500ms).

---

## ğŸ“Š ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1
- [x] Day 1-2: í”„ë¡œì íŠ¸ ì„¤ì • (âœ… ì™„ë£Œ: 2025-12-09)
- [x] Day 3-4: ë°ì´í„° ëª¨ë¸ & Mock Service (âœ… ì™„ë£Œ: 2025-12-09)
- [x] Day 5-7: BaseViewModel & MapViewModel (âœ… ì™„ë£Œ: 2025-12-10)
- [x] Day 8-10: MainPage XAML ë ˆì´ì•„ì›ƒ (âœ… ì™„ë£Œ: 2025-12-10)
- [ ] Day 11-12: ë„¤ì´ë²„ ì§€ë„ ì—°ë™ (IMapService, JS Interop)
- [ ] Day 13-14: CollectionView ê°œì„  (ì¹´ë“œ ìŠ¤íƒ€ì¼, ê²€ìƒ‰)

### Phase 2
- [ ] Day 15-18: Supabase í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
- [ ] Day 19-21: Supabase Auth í†µí•©
- [ ] Day 22-24: CRUD ê¸°ëŠ¥ êµ¬í˜„

### Phase 3
- [ ] Day 25-28: n8n ì›¹í›… ì—°ë™

### Phase 4
- [ ] Day 29-32: í…ŒìŠ¤íŠ¸ & ë²„ê·¸ ìˆ˜ì •
- [ ] Day 33-36: í”Œë«í¼ë³„ ë¹Œë“œ (MSIX/APK)
- [ ] Day 37-40: ë°°í¬ ë° ë¬¸ì„œí™”

---

## ğŸ”— ì°¸ê³  ë¬¸ì„œ

- [MAUI_ê°œë°œ_ê°€ì´ë“œ.md](./MAUI_ê°œë°œ_ê°€ì´ë“œ.md) - ê¸°ìˆ  êµ¬í˜„ ê°€ì´ë“œ (55+ í”„ë¡¬í”„íŠ¸)
- [ë””ìì¸_ì‹œìŠ¤í…œ.md](./ë””ìì¸_ì‹œìŠ¤í…œ.md) - UI/UX ê°€ì´ë“œë¼ì¸
- [Blazor_to_MAUI_ì°¸ê³ ìë£Œ.md](./Blazor_to_MAUI_ì°¸ê³ ìë£Œ.md) - ê¸°ì¡´ ê²€ì¦ ë¡œì§ ì°¸ê³ 
- [ì‘ì—…_ì¼ê´€ì„±_ë¶„ì„_ë°_í†µí•©_ê³„íš.md](./ì‘ì—…_ì¼ê´€ì„±_ë¶„ì„_ë°_í†µí•©_ê³„íš.md) - Week-by-Week ê³„íš
- [ì§„ì²™_ê´€ë¦¬.md](./ì§„ì²™_ê´€ë¦¬.md) - ì¼ì¼ ì‘ì—… ë¡œê·¸ & ì²´í¬ë¦¬ìŠ¤íŠ¸

---

**ë¬¸ì„œ ë²„ì „:** 2.0 (MAUI ê¸°ì¤€)  
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸:** 2025-12-10  
**ê¸°ìˆ  ìŠ¤íƒ:** .NET MAUI 9.0 + C# 13 + CommunityToolkit.Mvvm + Supabase
